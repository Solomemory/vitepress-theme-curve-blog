---
title: 实现Vue hooks plus的useRequest
tags: [ 前端, Vue ]
categories: [ 技术分享 ]
date: 2025-06-09
description: 
articleGPT: 
references:
  - title: vue-hooks-plus useRequest
    url: https://inhiblabcore.github.io/vue-hooks-plus/zh/hooks/useRequest/guide
---

## 完整代码
```typescript
import { ref, Ref } from "vue";

interface TOption {
  manual?: boolean;
  defaultParams?: TParams;
}
type TData = unknown;
type TParams = unknown[];

export const useRequest = (service: (...args: TParams) => Promise<TData>, opt: TOption) => {
  const loading: Readonly<Ref<boolean>> = ref(false);
  const data: Readonly<Ref<TData>> | undefined = ref();
  const error: Readonly<Ref<unknown>> | undefined = ref();
  const params: Readonly<Ref<TParams>> = ref([]);
  const run: (...params: TParams) => void = () => {};
  return {
    loading,
    data,
    error,
    params,
    run,
  };
};

```
